{/* CSSVariables.mdx */}
import { Meta } from '@storybook/blocks';

<Meta title="Customize/CSS Variables" />

# CSS Variables

Variables CSS (custom properties) disponibles au runtime pour personnaliser le design system.

---

## Avantages des CSS Variables

- **Changement dynamique** : Modifiables via JavaScript
- **Héritage** : Se propagent aux enfants
- **Thèmes** : Permettent le theming sans rebuild
- **DevTools** : Inspectables et modifiables en live

---

## Variables globales

### Couleurs principales

```css
:root {
  --color-primary: #3b82f6;
  --color-secondary: #64748b;
  --color-alt: #8b5cf6;
}
```

### Couleurs sémantiques

```css
:root {
  --success: #10b981;
  --warning: #f59e0b;
  --error: #ef4444;
  --info: #0ea5e9;
}
```

### Palette de gris

```css
:root {
  --gray-50: #f9fafb;
  --gray-100: #f3f4f6;
  --gray-200: #e5e7eb;
  --gray-300: #d1d5db;
  --gray-400: #9ca3af;
  --gray-500: #6b7280;
  --gray-600: #4b5563;
  --gray-700: #374151;
  --gray-800: #1f2937;
  --gray-900: #111827;
}
```

---

## Variables thématiques

Ces variables changent selon le thème actif (light/dark/custom) :

### Backgrounds

```css
:root {
  --background-main: /* couleur principale */;
  --background-secondary: /* couleur secondaire */;
  --background-tertiary: /* couleur tertiaire */;
}
```

### Textes

```css
:root {
  --text-default: /* couleur texte principal */;
  --text-muted: /* couleur texte secondaire */;
  --text-inverted: /* couleur texte inversé */;
}
```

### Bordures

```css
:root {
  --border-color: /* couleur bordure */;
}
```

---

## Variables de composants

### Boutons

```css
:root {
  --btn-height-sm: 32px;
  --btn-height-md: 40px;
  --btn-height-lg: 48px;
  --btn-radius: 8px;
  --btn-font-weight: 500;
}
```

### Inputs

```css
:root {
  --input-height-sm: 32px;
  --input-height-md: 40px;
  --input-height-lg: 48px;
  --input-border-radius: 8px;
  --input-border-color: var(--gray-300);
  --input-bg: var(--background-main);
  --input-text: var(--text-default);
  --input-placeholder: var(--gray-400);
  --input-focus-border: var(--color-primary);
}
```

### Cards

```css
:root {
  --card-bg: var(--background-main);
  --card-border: var(--border-color);
  --card-radius: 12px;
  --card-shadow: var(--shadow-1);
}
```

### Modals

```css
:root {
  --modal-bg: var(--background-main);
  --modal-border-color: var(--border-color);
  --modal-radius: 12px;
  --modal-shadow: var(--shadow-3);
  --modal-overlay-bg: rgba(0, 0, 0, 0.5);
}
```

---

## Utilisation

### Dans vos styles CSS/SCSS

```css
.my-component {
  background: var(--background-main);
  color: var(--text-default);
  padding: var(--space-4);
  border-radius: var(--radius-2);
  box-shadow: var(--shadow-1);
}
```

### Avec fallbacks

```css
.my-component {
  /* Fallback si la variable n'existe pas */
  color: var(--text-default, #1f2937);
  background: var(--my-custom-bg, var(--background-main));
}
```

### Modification via JavaScript

```typescript
// Changer une variable globalement
document.documentElement.style.setProperty('--color-primary', '#your-color');

// Changer une variable sur un élément
element.style.setProperty('--card-bg', '#custom-bg');

// Lire une variable
const primaryColor = getComputedStyle(document.documentElement)
  .getPropertyValue('--color-primary');
```

---

## Personnalisation par composant

Vous pouvez surcharger les variables au niveau d'un composant :

```css
/* Bouton avec couleur personnalisée */
.my-special-button {
  --btn-bg: #your-color;
  --btn-text: white;
  --btn-hover-bg: #your-darker-color;
}
```

```html
<ds-button class="my-special-button">Special</ds-button>
```

---

## Variables de layout

### Espacements

```css
:root {
  --space-1: 0.25rem;  /* 4px */
  --space-2: 0.5rem;   /* 8px */
  --space-3: 0.75rem;  /* 12px */
  --space-4: 1rem;     /* 16px */
  --space-5: 1.25rem;  /* 20px */
  --space-6: 1.5rem;   /* 24px */
  --space-8: 2rem;     /* 32px */
}
```

### Border radius

```css
:root {
  --radius-1: 4px;
  --radius-2: 8px;
  --radius-3: 12px;
  --radius-round: 50%;
}
```

### Ombres

```css
:root {
  --shadow-1: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-2: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --shadow-3: 0 10px 15px -3px rgb(0 0 0 / 0.1);
}
```

---

## Breakpoints

```css
:root {
  --breakpoint-xs: 320px;
  --breakpoint-sm: 576px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 992px;
  --breakpoint-xl: 1200px;
  --breakpoint-2xl: 1400px;
}
```

> **Note** : Les breakpoints CSS ne peuvent pas être utilisés directement dans les media queries. Utilisez les valeurs en pixels ou les variables Sass.

---

## Bonnes pratiques

1. **Préférez les variables sémantiques** (`--background-main`) aux primitives (`--gray-100`)
2. **Utilisez des fallbacks** pour la compatibilité
3. **Groupez vos surcharges** dans un fichier CSS dédié
4. **Testez** vos personnalisations dans les 3 thèmes
