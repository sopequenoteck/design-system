{/* Form.mdx */}
import { Meta } from '@storybook/blocks';

<Meta title="Forms/Overview" />

# Composants de formulaire

Biblioth√®que compl√®te de composants pour la saisie et la s√©lection de donn√©es, avec support complet des Reactive Forms Angular.

---

## Quand utiliser quoi ?

Le choix du composant d√©pend du type de donn√©e √† collecter :

| Besoin | Composant recommand√© | Alternatives |
|--------|---------------------|--------------|
| **Texte court** (nom, email) | `DsInputField` | - |
| **Texte long** (description) | `DsInputTextarea` | - |
| **Recherche avec filtrage** | `DsSearchInput` | `DsCombobox` |
| **Choix unique (peu d'options)** | `DsRadioGroup` | `DsSegmentedControl` |
| **Choix unique (beaucoup d'options)** | `DsSelect` | `DsCombobox` |
| **Choix multiples** | `DsCheckbox` (groupe) | `DsCombobox` avec multi |
| **Valeur num√©rique** | `DsInputNumber` | `DsSlider` |
| **Valeur dans une plage** | `DsSlider` | `DsInputNumber` |
| **Oui/Non, On/Off** | `DsToggle` | `DsCheckbox` |
| **Date** | `DsDatePicker` | - |
| **Heure** | `DsTimePicker` | - |
| **Couleur** | `DsColorPicker` | - |
| **Fichier(s)** | `DsFileUpload` | - |

---

## Vue d'ensemble des composants

### Inputs texte

| Composant | Description | Cas d'usage |
|-----------|-------------|-------------|
| **DsInputField** | Champ de saisie avec label, helper, √©tats | Nom, email, mot de passe |
| **DsInputTextarea** | Zone de texte multi-lignes | Commentaires, descriptions |
| **DsSearchInput** | Champ avec debounce et ic√¥ne | Barres de recherche |
| **DsCombobox** | Autocomplete avec filtrage | S√©lection avec recherche |

### S√©lection

| Composant | Description | Cas d'usage |
|-----------|-------------|-------------|
| **DsCheckbox** | Case √† cocher avec label | Conditions, options multiples |
| **DsRadioGroup** | Groupe de boutons radio | Choix exclusif (2-5 options) |
| **DsToggle** | Interrupteur on/off | Param√®tres bool√©ens |
| **DsSelect** | Liste d√©roulante | Choix parmi une liste |
| **DsSlider** | Curseur de valeur | Volume, pourcentages |
| **DsSegmentedControl** | Boutons radio visuels | Vue grille/liste, filtres |

### Pickers

| Composant | Description | Cas d'usage |
|-----------|-------------|-------------|
| **DsDatePicker** | Calendrier de s√©lection | Dates de naissance, r√©servations |
| **DsTimePicker** | S√©lecteur d'heure | Horaires, rappels |
| **DsColorPicker** | Palette de couleurs | Personnalisation th√®me |

### Valeurs num√©riques

| Composant | Description | Cas d'usage |
|-----------|-------------|-------------|
| **DsInputNumber** | Input avec stepper +/- | Quantit√©s, √¢ge |
| **DsSlider** | Curseur sur une plage | Volume, prix max |

### Upload

| Composant | Description | Cas d'usage |
|-----------|-------------|-------------|
| **DsFileUpload** | Zone drag & drop | Documents, images |

---

## Patterns d'utilisation

### Formulaire avec Reactive Forms

Tous les composants impl√©mentent `ControlValueAccessor` pour une int√©gration native :

```typescript
import { Component } from '@angular/core';
import { FormGroup, FormControl, Validators, ReactiveFormsModule } from '@angular/forms';
import { DsInputField, DsSelect, DsCheckbox, DsButton } from '@kksdev/ds-angular';

@Component({
  standalone: true,
  imports: [ReactiveFormsModule, DsInputField, DsSelect, DsCheckbox, DsButton],
  template: `
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <ds-input-field
        formControlName="email"
        label="Email"
        type="email"
        [state]="getFieldState('email')"
        [errorText]="getFieldError('email')"
      />

      <ds-input-field
        formControlName="password"
        label="Mot de passe"
        type="password"
        [state]="getFieldState('password')"
        [errorText]="getFieldError('password')"
      />

      <ds-select
        formControlName="country"
        label="Pays"
        [options]="countries"
        placeholder="S√©lectionnez..."
      />

      <ds-checkbox formControlName="terms">
        J'accepte les conditions g√©n√©rales
      </ds-checkbox>

      <button ds-button
              variant="primary"
              type="submit"
              [disabled]="form.invalid || form.pending">
        S'inscrire
      </button>
    </form>
  `
})
export class RegistrationFormComponent {
  form = new FormGroup({
    email: new FormControl('', [Validators.required, Validators.email]),
    password: new FormControl('', [Validators.required, Validators.minLength(8)]),
    country: new FormControl('', Validators.required),
    terms: new FormControl(false, Validators.requiredTrue)
  });

  countries = [
    { value: 'fr', label: 'France' },
    { value: 'be', label: 'Belgique' },
    { value: 'ch', label: 'Suisse' }
  ];

  getFieldState(field: string): 'default' | 'error' | 'success' {
    const control = this.form.get(field);
    if (!control?.touched) return 'default';
    return control.invalid ? 'error' : 'success';
  }

  getFieldError(field: string): string {
    const control = this.form.get(field);
    if (!control?.errors) return '';

    if (control.errors['required']) return 'Ce champ est requis';
    if (control.errors['email']) return 'Email invalide';
    if (control.errors['minlength']) {
      return `Minimum ${control.errors['minlength'].requiredLength} caract√®res`;
    }
    return '';
  }

  onSubmit() {
    if (this.form.valid) {
      console.log(this.form.value);
    }
  }
}
```

### √âtats de validation

Les composants supportent 4 √©tats visuels :

```html
<!-- √âtat par d√©faut -->
<ds-input-field state="default" label="Nom" />

<!-- Succ√®s (validation pass√©e) -->
<ds-input-field state="success" label="Email" helper="Email valide" />

<!-- Avertissement -->
<ds-input-field state="warning" label="Mot de passe" helper="Mot de passe faible" />

<!-- Erreur -->
<ds-input-field state="error" label="T√©l√©phone" errorText="Format invalide" />
```

### Tailles disponibles

Tous les composants de formulaire supportent 3 tailles :

```html
<ds-input-field size="sm" label="Small" />
<ds-input-field size="md" label="Medium (d√©faut)" />
<ds-input-field size="lg" label="Large" />
```

### Groupe de champs avec validation

```typescript
@Component({
  template: `
    <div class="form-group">
      <ds-radio-group
        formControlName="paymentMethod"
        label="Mode de paiement"
        [options]="paymentOptions"
        [state]="form.get('paymentMethod')?.touched && form.get('paymentMethod')?.invalid ? 'error' : 'default'"
      />

      @if (form.get('paymentMethod')?.value === 'card') {
        <ds-input-field
          formControlName="cardNumber"
          label="Num√©ro de carte"
          placeholder="1234 5678 9012 3456"
          [state]="getFieldState('cardNumber')"
        />
      }
    </div>
  `
})
export class PaymentFormComponent {
  paymentOptions = [
    { value: 'card', label: 'Carte bancaire' },
    { value: 'paypal', label: 'PayPal' },
    { value: 'transfer', label: 'Virement' }
  ];
}
```

---

## Accessibilit√©

### Labels et descriptions

Tous les composants de formulaire associent automatiquement :

```html
<ds-input-field
  label="Adresse email"
  helper="Nous ne partagerons jamais votre email"
  required
/>
<!-- G√©n√®re automatiquement :
  - <label for="input-xxx">
  - aria-describedby pour le helper
  - aria-required="true"
-->
```

### √âtats d'erreur accessibles

```html
<ds-input-field
  state="error"
  errorText="Ce champ est requis"
/>
<!-- G√©n√®re automatiquement :
  - aria-invalid="true"
  - aria-describedby li√© au message d'erreur
  - role="alert" sur le message
-->
```

### Navigation clavier

| Touche | Action |
|--------|--------|
| `Tab` | Naviguer entre les champs |
| `Space` | Cocher/d√©cocher (checkbox, radio, toggle) |
| `Enter` | Valider la s√©lection, soumettre |
| `Escape` | Fermer les dropdowns |
| `‚Üë` `‚Üì` | Naviguer dans les options (select, radio) |
| `Home` `End` | Premi√®re/derni√®re option |

---

## Bonnes pratiques

### Organisation des formulaires

```html
<!-- ‚úÖ Bon : groupes logiques avec espacement -->
<form class="form">
  <fieldset>
    <legend>Informations personnelles</legend>
    <ds-input-field label="Pr√©nom" />
    <ds-input-field label="Nom" />
  </fieldset>

  <fieldset>
    <legend>Coordonn√©es</legend>
    <ds-input-field label="Email" type="email" />
    <ds-input-field label="T√©l√©phone" type="tel" />
  </fieldset>
</form>
```

### Messages d'erreur clairs

```typescript
// ‚úÖ Bon : messages d'erreur sp√©cifiques et actionnables
getFieldError(field: string): string {
  const errors = this.form.get(field)?.errors;
  if (!errors) return '';

  if (errors['required']) return 'Ce champ est obligatoire';
  if (errors['email']) return 'Entrez une adresse email valide (ex: nom@exemple.com)';
  if (errors['minlength']) return `Minimum ${errors['minlength'].requiredLength} caract√®res requis`;
  if (errors['pattern']) return 'Format invalide';
  return 'Valeur invalide';
}
```

### Validation en temps r√©el

```typescript
// ‚úÖ Bon : validation √† la saisie pour feedback imm√©diat
this.form.get('email')?.valueChanges.pipe(
  debounceTime(300),
  distinctUntilChanged()
).subscribe(value => {
  // Validation asynchrone (ex: email unique)
});
```

---

## Exemples complets

### Formulaire de contact

```typescript
@Component({
  template: `
    <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
      <ds-input-field
        formControlName="name"
        label="Nom complet"
        required
      />

      <ds-input-field
        formControlName="email"
        label="Email"
        type="email"
        required
      />

      <ds-select
        formControlName="subject"
        label="Sujet"
        [options]="subjects"
        required
      />

      <ds-input-textarea
        formControlName="message"
        label="Message"
        [rows]="5"
        required
      />

      <ds-checkbox formControlName="newsletter">
        Recevoir notre newsletter
      </ds-checkbox>

      <button ds-button variant="primary" type="submit">
        Envoyer
      </button>
    </form>
  `
})
export class ContactFormComponent {
  subjects = [
    { value: 'support', label: 'Support technique' },
    { value: 'sales', label: 'Question commerciale' },
    { value: 'feedback', label: 'Feedback' }
  ];

  contactForm = new FormGroup({
    name: new FormControl('', Validators.required),
    email: new FormControl('', [Validators.required, Validators.email]),
    subject: new FormControl('', Validators.required),
    message: new FormControl('', [Validators.required, Validators.minLength(10)]),
    newsletter: new FormControl(false)
  });

  onSubmit() {
    if (this.contactForm.valid) {
      console.log(this.contactForm.value);
    }
  }
}
```

### Formulaire de param√®tres

```typescript
@Component({
  template: `
    <form [formGroup]="settingsForm">
      <ds-segmented-control
        formControlName="theme"
        label="Th√®me"
        [options]="themeOptions"
      />

      <ds-slider
        formControlName="volume"
        label="Volume des notifications"
        [min]="0"
        [max]="100"
        [showTicks]="true"
        [step]="10"
      />

      <ds-toggle
        formControlName="notifications"
        label="Notifications push"
      />

      <ds-toggle
        formControlName="darkMode"
        label="Mode sombre"
      />

      <ds-color-picker
        formControlName="accentColor"
        label="Couleur d'accent"
        [presets]="colorPresets"
      />
    </form>
  `
})
export class SettingsFormComponent {
  themeOptions = [
    { value: 'light', label: 'Clair' },
    { value: 'dark', label: 'Sombre' },
    { value: 'auto', label: 'Auto' }
  ];

  colorPresets = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6'];

  settingsForm = new FormGroup({
    theme: new FormControl('light'),
    volume: new FormControl(50),
    notifications: new FormControl(true),
    darkMode: new FormControl(false),
    accentColor: new FormControl('#3b82f6')
  });
}
```

---

## DsTimePicker

S√©lecteur d'heure avec dropdown scrollable, support 12h/24h et int√©gration formulaires via ControlValueAccessor.

### Inputs

| Nom | Type | D√©faut | Description |
|-----|------|--------|-------------|
| `value` | `string` | `''` | Valeur de l'heure au format HH:mm ou HH:mm:ss |
| `format` | `'12h' \| '24h'` | `'24h'` | Format d'affichage de l'heure |
| `showSeconds` | `boolean` | `false` | Afficher les secondes |
| `minuteStep` | `number` | `1` | Pas d'incr√©mentation des minutes |
| `hourStep` | `number` | `1` | Pas d'incr√©mentation des heures |
| `size` | `'sm' \| 'md' \| 'lg'` | `'md'` | Taille du composant |
| `disabled` | `boolean` | `false` | D√©sactive le composant |
| `readonly` | `boolean` | `false` | Mode lecture seule |
| `placeholder` | `string` | `'Select time'` | Placeholder de l'input |
| `minTime` | `string \| null` | `null` | Heure minimum s√©lectionnable |
| `maxTime` | `string \| null` | `null` | Heure maximum s√©lectionnable |

### Outputs

| Nom | Type | Description |
|-----|------|-------------|
| `timeChange` | `string` | √âmis lorsque l'heure change |

### Types

```typescript
type TimePickerSize = 'sm' | 'md' | 'lg';
type TimeFormat = '12h' | '24h';

interface TimeValue {
  hours: number;
  minutes: number;
  seconds?: number;
}
```

### Exemples

```html
<!-- Time picker basique 24h -->
<ds-time-picker
  [format]="'24h'"
  (timeChange)="onTimeChange($event)"
/>

<!-- Time picker 12h avec secondes -->
<ds-time-picker
  [format]="'12h'"
  [showSeconds]="true"
  [minuteStep]="5"
/>

<!-- Avec contraintes min/max -->
<ds-time-picker
  [minTime]="'09:00'"
  [maxTime]="'18:00'"
  placeholder="Horaires bureau"
/>
```

### Accessibilit√©

| Touche | Action |
|--------|--------|
| `Tab` | Navigue vers le champ |
| `Enter` / `Space` | Ouvre/ferme le panel |
| `Escape` | Ferme le panel |
| `‚Üë` `‚Üì` | Incr√©mente/d√©cr√©mente dans le panel |

### Stories disponibles

Default, With24HourFormat, With12HourFormat, WithSeconds, WithSeconds12Hour, WithMinuteStep5, WithMinuteStep15, SmallSize, MediumSize, LargeSize, Disabled, Readonly, Midnight, Noon, InReactiveForm, AllSizes, AllFormats, MinuteSteps, Accessibility, WithMinTime, WithMaxTime, WithMinMaxRange, TimeConstraints

---

## DsFileUpload

Composant de t√©l√©chargement de fichiers avec support drag & drop, validation, preview et barre de progression.

### Inputs

| Nom | Type | D√©faut | Description |
|-----|------|--------|-------------|
| `accept` | `string` | `'*'` | Types de fichiers accept√©s (ex: `'image/*,.pdf'`) |
| `maxFileSize` | `number` | `10485760` | Taille max d'un fichier en bytes (10 MB) |
| `maxFiles` | `number` | `1` | Nombre max de fichiers |
| `multiple` | `boolean` | `false` | Permet la s√©lection multiple |
| `disabled` | `boolean` | `false` | D√©sactive le composant |
| `size` | `'sm' \| 'md' \| 'lg'` | `'md'` | Taille du composant |
| `showPreview` | `boolean` | `true` | Affiche une preview pour les images |
| `label` | `string` | `'Choisir un fichier'` | Label du bouton |
| `dragHelpText` | `string` | `'ou glisser-d√©poser ici'` | Texte d'aide pour le drag & drop |

### Outputs

| Nom | Type | Description |
|-----|------|-------------|
| `filesChange` | `File[]` | √âmis lors du changement de fichiers |
| `fileRemoved` | `File` | √âmis lors de la suppression d'un fichier |
| `uploadProgress` | `{ file: File; progress: number }` | √âmis lors de la progression de l'upload |

### Types

```typescript
type FileUploadSize = 'sm' | 'md' | 'lg';

interface UploadFile {
  file: File;
  preview?: string;
  progress: number;
  error?: string;
}
```

### Exemples

```html
<!-- Upload simple d'image -->
<ds-file-upload
  [accept]="'image/*'"
  [maxFileSize]="5242880"
  (filesChange)="onFilesChange($event)"
/>

<!-- Upload multiple avec preview -->
<ds-file-upload
  [multiple]="true"
  [showPreview]="true"
  [maxFiles]="5"
  size="lg"
/>

<!-- Upload de documents -->
<ds-file-upload
  [accept]="'.pdf,.doc,.docx'"
  [maxFileSize]="20971520"
  label="T√©l√©charger un document"
/>
```

### Accessibilit√©

| Touche | Action |
|--------|--------|
| `Tab` | Navigue vers la zone |
| `Enter` / `Space` | Ouvre le s√©lecteur de fichiers |

### Stories disponibles

Default, ImagesOnly, WithMaxSize, Multiple, MultipleWithPreview, Disabled, SmallSize, LargeSize, PdfOnly, OfficeDocuments, InReactiveForm, WithProgress, Themed, AllSizes, Accessibility

---

## DsInputNumber

Input num√©rique avec boutons stepper +/- et navigation clavier compl√®te.

### Inputs

| Nom | Type | D√©faut | Description |
|-----|------|--------|-------------|
| `min` | `number` | `-Infinity` | Valeur minimale |
| `max` | `number` | `Infinity` | Valeur maximale |
| `step` | `number` | `1` | Pas d'incr√©mentation |
| `disabled` | `boolean` | `false` | D√©sactive le composant |
| `readonly` | `boolean` | `false` | Mode lecture seule |
| `required` | `boolean` | `false` | Champ requis |
| `size` | `'sm' \| 'md' \| 'lg'` | `'md'` | Taille du composant |
| `placeholder` | `string` | `''` | Placeholder de l'input |
| `prefix` | `string` | `undefined` | Pr√©fixe affich√© (ex: ‚Ç¨) |
| `suffix` | `string` | `undefined` | Suffixe affich√© (ex: kg) |
| `precision` | `number` | `0` | Nombre de d√©cimales |
| `controls` | `boolean` | `true` | Afficher les boutons +/- |
| `controlsPosition` | `'both' \| 'right'` | `'both'` | Position des boutons |
| `ariaLabel` | `string` | `undefined` | Label ARIA |
| `id` | `string` | auto-g√©n√©r√© | ID du champ |
| `name` | `string` | `undefined` | Nom du champ |

### Outputs

| Nom | Type | Description |
|-----|------|-------------|
| `valueChange` | `number` | √âmis lorsque la valeur change |

### Types

```typescript
type InputNumberSize = 'sm' | 'md' | 'lg';
type InputNumberControlsPosition = 'both' | 'right';
```

### Exemples

```html
<!-- Quantit√© avec limites -->
<ds-input-number
  [min]="0"
  [max]="100"
  [step]="1"
  placeholder="Quantit√©"
/>

<!-- Prix avec d√©cimales et pr√©fixe -->
<ds-input-number
  [min]="0"
  [precision]="2"
  prefix="‚Ç¨"
  [controlsPosition]="'right'"
/>

<!-- Poids avec suffixe -->
<ds-input-number
  [min]="0"
  [max]="1000"
  [step]="0.5"
  [precision]="1"
  suffix="kg"
/>
```

### Accessibilit√©

| Touche | Action |
|--------|--------|
| `‚Üë` | Incr√©mente la valeur |
| `‚Üì` | D√©cr√©mente la valeur |
| `Home` | Valeur minimale |
| `End` | Valeur maximale |
| `Page Up` | Incr√©mente √ó 10 |
| `Page Down` | D√©cr√©mente √ó 10 |

### Stories disponibles

Default, WithMinMax, WithStep, WithPrecision, WithPrefix, WithSuffix, ControlsRight, NoControls, Disabled, Readonly, AllSizes, InReactiveForm, Accessibility

---

## DsSearchInput

Input de recherche avec ic√¥ne, bouton clear et debounce configurable.

### Inputs

| Nom | Type | D√©faut | Description |
|-----|------|--------|-------------|
| `size` | `'sm' \| 'md' \| 'lg'` | `'md'` | Taille du composant |
| `placeholder` | `string` | `'Rechercher...'` | Placeholder du champ |
| `debounceMs` | `number` | `300` | D√©lai de debounce en ms |
| `disabled` | `boolean` | `false` | D√©sactive le composant |
| `loading` | `boolean` | `false` | Affiche un indicateur de chargement |
| `clearable` | `boolean` | `true` | Affiche le bouton clear |
| `minChars` | `number` | `0` | Caract√®res minimum avant recherche |
| `clearLabel` | `string` | `'Effacer la recherche'` | Label ARIA du bouton clear |
| `ariaLabel` | `string` | `''` | Label ARIA du champ |
| `ariaDescribedBy` | `string` | `''` | ID de l'√©l√©ment d√©crit |

### Outputs

| Nom | Type | Description |
|-----|------|-------------|
| `search` | `string` | √âmis apr√®s debounce |
| `searchImmediate` | `string` | √âmis imm√©diatement (touche Entr√©e) |
| `cleared` | `void` | √âmis lors de l'effacement |

### Types

```typescript
type SearchInputSize = 'sm' | 'md' | 'lg';
```

### Exemples

```html
<!-- Recherche basique -->
<ds-search-input
  placeholder="Rechercher un utilisateur..."
  [debounceMs]="300"
  (search)="onSearch($event)"
/>

<!-- Avec loading et minimum de caract√®res -->
<ds-search-input
  [loading]="isSearching"
  [minChars]="3"
  (search)="onSearch($event)"
/>

<!-- Recherche imm√©diate sur Entr√©e -->
<ds-search-input
  placeholder="Rechercher..."
  (searchImmediate)="onImmediateSearch($event)"
/>
```

### Accessibilit√©

| Touche | Action |
|--------|--------|
| `Enter` | D√©clenche searchImmediate |
| `Escape` | Efface le champ |

### Stories disponibles

Default, WithDebounce, WithMinChars, Loading, Disabled, SmallSize, LargeSize, WithPlaceholder, InReactiveForm, Accessibility

---

## DsCombobox

Autocomplete avec filtrage, support des descriptions et valeurs custom.

### Inputs

| Nom | Type | D√©faut | Description |
|-----|------|--------|-------------|
| `options` | `DsComboboxOption[]` | `[]` | Liste des options |
| `placeholder` | `string` | `'Rechercher...'` | Placeholder du champ |
| `size` | `'sm' \| 'md' \| 'lg'` | `'md'` | Taille du composant |
| `disabled` | `boolean` | `false` | D√©sactive le composant |
| `error` | `string` | `''` | Message d'erreur |
| `helper` | `string` | `''` | Texte d'aide |
| `label` | `string` | `''` | Label du champ |
| `name` | `string` | `''` | Nom du champ |
| `required` | `boolean` | `false` | Champ requis |
| `clearable` | `boolean` | `true` | Permet d'effacer la s√©lection |
| `allowCustom` | `boolean` | `false` | Permet les valeurs custom |
| `minChars` | `number` | `0` | Caract√®res minimum pour filtrer |
| `maxResults` | `number` | `50` | Nombre max de r√©sultats |
| `noResultsText` | `string` | `'Aucun r√©sultat'` | Texte quand aucun r√©sultat |
| `loadingText` | `string` | `'Chargement...'` | Texte pendant le chargement |
| `loading` | `boolean` | `false` | √âtat de chargement |

### Outputs

| Nom | Type | Description |
|-----|------|-------------|
| `selectionChange` | `DsComboboxOption \| null` | √âmis lors de la s√©lection |
| `inputChange` | `string` | √âmis lors de la saisie |
| `opened` | `void` | √âmis √† l'ouverture du dropdown |
| `closed` | `void` | √âmis √† la fermeture du dropdown |

### Types

```typescript
interface DsComboboxOption {
  value: string | number;
  label: string;
  disabled?: boolean;
  description?: string;
}

type DsComboboxSize = 'sm' | 'md' | 'lg';
```

### Exemples

```html
<!-- Combobox basique -->
<ds-combobox
  [options]="countries"
  label="Pays"
  placeholder="S√©lectionnez un pays..."
  (selectionChange)="onCountrySelect($event)"
/>

<!-- Avec descriptions et recherche -->
<ds-combobox
  [options]="users"
  label="Utilisateur"
  [minChars]="2"
  [allowCustom]="false"
/>

<!-- Avec chargement asynchrone -->
<ds-combobox
  [options]="filteredOptions"
  [loading]="isLoading"
  (inputChange)="onInputChange($event)"
/>
```

### Accessibilit√©

| Touche | Action |
|--------|--------|
| `‚Üì` | Ouvre le dropdown / option suivante |
| `‚Üë` | Option pr√©c√©dente |
| `Enter` | S√©lectionne l'option |
| `Escape` | Ferme le dropdown |
| `Tab` | Ferme et passe au champ suivant |

### Stories disponibles

Default, WithOptions, WithDescriptions, AllowCustom, MinChars, Loading, Disabled, WithError, WithHelper, InReactiveForm, AllSizes, Accessibility

---

## DsPasswordStrength

Indicateur visuel de force de mot de passe avec barres de progression et crit√®res de validation.

### Inputs

| Nom | Type | D√©faut | Description |
|-----|------|--------|-------------|
| `password` | `string` | `''` | Mot de passe √† √©valuer |
| `minLength` | `number` | `8` | Longueur minimale requise |
| `showLabel` | `boolean` | `true` | Affiche le label (Faible/Moyen/Fort) |
| `showCriteria` | `boolean` | `false` | Affiche les crit√®res d√©taill√©s |
| `size` | `'sm' \| 'md' \| 'lg'` | `'md'` | Taille du composant |

### Outputs

| Nom | Type | Description |
|-----|------|-------------|
| `strengthChange` | `PasswordStrength` | √âmis lorsque la force change |

### Types

```typescript
type PasswordStrength = 'none' | 'weak' | 'medium' | 'strong';
type PasswordStrengthSize = 'sm' | 'md' | 'lg';

interface PasswordCriterion {
  key: string;
  label: string;
  valid: boolean;
}
```

### Exemples

```html
<!-- Indicateur simple -->
<ds-input-field
  type="password"
  label="Mot de passe"
  [(ngModel)]="password"
/>
<ds-password-strength [password]="password" />

<!-- Avec crit√®res d√©taill√©s -->
<ds-password-strength
  [password]="password"
  [minLength]="10"
  [showLabel]="true"
  [showCriteria]="true"
  (strengthChange)="onStrengthChange($event)"
/>
```

### Calcul de la force

| Niveau | Crit√®res |
|--------|----------|
| `none` | Champ vide |
| `weak` | Longueur < minLength OU uniquement lettres |
| `medium` | Longueur ‚â• minLength ET (lettres+chiffres OU lettres+sp√©ciaux) |
| `strong` | Longueur ‚â• minLength ET majuscules + minuscules + chiffres + sp√©ciaux |

### Accessibilit√©

- Attribut `role="status"` pour annoncer les changements
- Label ARIA dynamique selon la force
- Couleurs s√©mantiques (error/warning/success)

### Stories disponibles

Default, WithPassword, Weak, Medium, Strong, WithCriteria, CustomMinLength, AllSizes, InForm, Accessibility

---

<div style={{
  padding: '24px',
  background: 'var(--background-secondary)',
  borderRadius: '12px',
  textAlign: 'center',
  marginTop: '32px'
}}>
  <div style={{ fontSize: '24px', marginBottom: '8px' }}>üìù</div>
  <strong>16 composants de formulaire</strong>
  <p style={{ margin: '8px 0 0', fontSize: '14px', color: 'var(--text-muted)' }}>
    Tous compatibles avec Angular Reactive Forms et accessibles WCAG 2.1 AA.
  </p>
</div>
