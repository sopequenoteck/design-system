{/* Foundation.mdx */}
import { Meta } from '@storybook/blocks';

<Meta title="Foundation/Overview" />

# Foundation

Les briques de base du design system : primitives et layout.

---

## Vue d'ensemble

La catégorie **Foundation** regroupe les composants fondamentaux qui servent de base à tous les autres composants du design system.

### Primitives

Composants atomiques sans logique métier, stylisés par CSS custom properties :

| Composant | Description |
|-----------|-------------|
| **PrimitiveBadge** | Badge basique pour indicateurs |
| **PrimitiveButton** | Bouton sans logique de chargement |
| **PrimitiveCheckbox** | Case à cocher native |
| **PrimitiveInput** | Champ de saisie basique |
| **PrimitiveRadio** | Bouton radio natif |
| **PrimitiveTextarea** | Zone de texte multi-lignes |
| **PrimitiveToggle** | Interrupteur on/off |

### Layout

Composants de mise en page et structure :

| Composant | Description |
|-----------|-------------|
| **DsCard** | Conteneur avec variants (default, elevated, outlined) |
| **DsContainer** | Conteneur responsive avec gutter |
| **DsDivider** | Séparateur horizontal/vertical |

---

## Patterns d'utilisation

### Composition de primitives

Les primitives sont conçues pour être composées. Par exemple, `DsCheckbox` utilise `PrimitiveCheckbox` en interne avec une logique de formulaire ajoutée.

```typescript
// Le composant DS encapsule la primitive
@Component({
  template: `
    <label class="ds-checkbox">
      <primitive-checkbox [checked]="checked" />
      <span class="ds-checkbox__label">{{ label }}</span>
    </label>
  `
})
export class DsCheckbox {}
```

### Tokens de layout

Les composants de layout utilisent ces tokens :

```css
/* Espacements */
--space-1: 0.25rem;
--space-2: 0.5rem;
--space-4: 1rem;
--space-6: 1.5rem;
--space-8: 2rem;

/* Rayons */
--radius-1: 0.25rem;
--radius-2: 0.5rem;
--radius-4: 1rem;

/* Ombres */
--shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
--shadow-md: 0 4px 6px rgba(0,0,0,0.1);
--shadow-lg: 0 10px 15px rgba(0,0,0,0.1);
```

---

## Accessibilité

- Toutes les primitives respectent WCAG 2.1 AA
- Focus visible avec `outline` sur tous les éléments interactifs
- Attributs ARIA appropriés (`aria-checked`, `aria-disabled`)
- Contraste de couleurs ≥ 4.5:1 pour le texte

---

## PrimitiveBadge

Badge atomique stylisé pour afficher statuts, compteurs ou labels.

### Inputs

| Nom | Type | Défaut | Description |
|-----|------|--------|-------------|
| `type` | `BadgeType` | `'label'` | Type sémantique (label/status/count) |
| `variant` | `BadgeVariant` | `'primary'` | Couleur (primary/secondary/success/warning/error/info/neutral/default/accent) |
| `size` | `BadgeSize` | `'md'` | Taille (sm/md/lg) |
| `shape` | `BadgeShape` | `'rounded'` | Forme (rounded/pill) |
| `appearance` | `BadgeAppearance` | `'solid'` | Apparence (solid/outline) |
| `iconStart` | `IconDefinition` | `null` | Icône avant le texte |
| `iconEnd` | `IconDefinition` | `null` | Icône après le texte |
| `customStyles` | `Record<string, string>` | `null` | Styles CSS personnalisés |

---

## PrimitiveButton

Bouton atomique sans logique de chargement, stylisé par CSS custom properties.

### Inputs

| Nom | Type | Défaut | Description |
|-----|------|--------|-------------|
| `type` | `ButtonType` | `'button'` | Type HTML (button/submit/reset) |
| `variant` | `ButtonVariant` | `'primary'` | Couleur (primary/secondary/ghost/success/warning/error/info) |
| `size` | `ButtonSize` | `'md'` | Taille (sm/md/lg) |
| `disabled` | `boolean` | `false` | État désactivé |
| `iconStart` | `IconDefinition` | `null` | Icône avant le texte |
| `iconEnd` | `IconDefinition` | `null` | Icône après le texte |
| `appearance` | `ButtonAppearance` | `'solid'` | Apparence (solid/outline) |
| `block` | `boolean` | `false` | Pleine largeur |

### Outputs

| Nom | Type | Description |
|-----|------|-------------|
| `clicked` | `void` | Émis lors du clic |

---

## PrimitiveCheckbox

Case à cocher atomique avec support de l'état indéterminé.

### Inputs

| Nom | Type | Défaut | Description |
|-----|------|--------|-------------|
| `checked` | `boolean` | `false` | État coché (two-way binding) |
| `indeterminate` | `boolean` | `false` | État indéterminé |
| `disabled` | `boolean` | `false` | État désactivé |
| `size` | `CheckboxSize` | `'md'` | Taille (sm/md/lg) |
| `label` | `string` | `''` | Texte du label |
| `checkboxId` | `string` | Auto-généré | ID unique |

### Outputs

| Nom | Type | Description |
|-----|------|-------------|
| `checkedChange` | `boolean` | Émis au changement d'état |

---

## PrimitiveInput

Champ de saisie atomique avec support des icônes et états visuels.

### Inputs

| Nom | Type | Défaut | Description |
|-----|------|--------|-------------|
| `id` | `string` | `undefined` | ID HTML du champ |
| `name` | `string` | `undefined` | Nom du champ |
| `type` | `InputType` | `'text'` | Type HTML5 (text/password/email/number/tel/url/search/date) |
| `placeholder` | `string` | `''` | Texte d'indication |
| `value` | `string` | `''` | Valeur (two-way binding) |
| `disabled` | `boolean` | `false` | État désactivé |
| `readonly` | `boolean` | `false` | Lecture seule |
| `required` | `boolean` | `false` | Champ obligatoire |
| `maxlength` | `number` | `undefined` | Longueur max |
| `state` | `InputState` | `'default'` | État visuel (default/success/warning/error) |
| `size` | `InputSize` | `'md'` | Taille (sm/md/lg) |
| `appearance` | `InputAppearance` | `'default'` | Apparence (default/outline/ghost) |
| `iconStart` | `IconDefinition` | `null` | Icône avant le champ |
| `iconEnd` | `IconDefinition` | `null` | Icône après le champ |
| `ariaLabel` | `string` | `undefined` | Label ARIA |
| `ariaDescribedBy` | `string` | `undefined` | ID description ARIA |

### Outputs

| Nom | Type | Description |
|-----|------|-------------|
| `inputChanged` | `string` | Émis à chaque modification |
| `inputBlurred` | `void` | Émis à la perte de focus |
| `inputFocused` | `void` | Émis à la réception du focus |

---

## PrimitiveRadio

Bouton radio atomique pour sélection exclusive dans un groupe.

### Inputs

| Nom | Type | Défaut | Description |
|-----|------|--------|-------------|
| `checked` | `boolean` | `false` | État sélectionné (two-way binding) |
| `disabled` | `boolean` | `false` | État désactivé |
| `size` | `RadioSize` | `'md'` | Taille (sm/md/lg) |
| `label` | `string` | `''` | Texte du label |
| `name` | `string` | `''` | Nom du groupe |
| `value` | `string` | `''` | Valeur du radio |
| `radioId` | `string` | Auto-généré | ID unique |

### Outputs

| Nom | Type | Description |
|-----|------|-------------|
| `checkedChange` | `boolean` | Émis à la sélection |

---

## PrimitiveTextarea

Zone de texte multi-lignes atomique avec redimensionnement configurable.

### Inputs

| Nom | Type | Défaut | Description |
|-----|------|--------|-------------|
| `id` | `string` | `undefined` | ID HTML du champ |
| `name` | `string` | `undefined` | Nom du champ |
| `placeholder` | `string` | `''` | Texte d'indication |
| `value` | `string` | `''` | Valeur (two-way binding) |
| `disabled` | `boolean` | `false` | État désactivé |
| `readonly` | `boolean` | `false` | Lecture seule |
| `required` | `boolean` | `false` | Champ obligatoire |
| `state` | `TextareaState` | `'default'` | État visuel |
| `size` | `TextareaSize` | `'md'` | Taille |
| `appearance` | `TextareaAppearance` | `'default'` | Apparence |
| `resize` | `TextareaResize` | `'vertical'` | Mode redimensionnement (none/vertical/horizontal/both) |
| `rows` | `number` | `undefined` | Lignes visibles |
| `cols` | `number` | `undefined` | Colonnes |
| `maxlength` | `number` | `undefined` | Longueur max |
| `iconStart` | `IconDefinition` | `null` | Icône avant |
| `iconEnd` | `IconDefinition` | `null` | Icône après |

### Outputs

| Nom | Type | Description |
|-----|------|-------------|
| `inputChanged` | `string` | Émis à chaque modification |
| `inputBlurred` | `void` | Émis à la perte de focus |
| `inputFocused` | `void` | Émis à la réception du focus |

---

## PrimitiveToggle

Interrupteur on/off atomique avec animation de transition.

### Inputs

| Nom | Type | Défaut | Description |
|-----|------|--------|-------------|
| `checked` | `boolean` | `false` | État activé (two-way binding) |
| `disabled` | `boolean` | `false` | État désactivé |
| `size` | `ToggleSize` | `'md'` | Taille (sm/md/lg) |
| `label` | `string` | `''` | Texte du label |
| `labelPosition` | `'left' \| 'right'` | `'right'` | Position du label |
| `toggleId` | `string` | Auto-généré | ID unique |

### Outputs

| Nom | Type | Description |
|-----|------|-------------|
| `checkedChange` | `boolean` | Émis au changement d'état |
