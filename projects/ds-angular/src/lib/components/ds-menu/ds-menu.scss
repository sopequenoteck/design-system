/* ==========================================================================
   DS-MENU â€” Menu du design system
   ========================================================================== */

:host {
  display: inline-block;
}

.ds-menu__trigger {
  display: inline-block;
  cursor: pointer;
}

.ds-menu__panel {
  background: var(--menu-bg);
  border: 1px solid var(--menu-border);
  border-radius: var(--menu-radius);
  box-shadow: var(--menu-shadow);
  padding: var(--menu-padding);
  min-width: var(--menu-min-width);
  max-width: var(--menu-max-width);

  // === SIZES ===

  &--sm {
    --menu-item-height: var(--menu-item-height-sm);
    --menu-font-size: var(--menu-font-size-sm);
  }

  &--md {
    --menu-item-height: var(--menu-item-height-md);
    --menu-font-size: var(--menu-font-size-md);
  }

  &--lg {
    --menu-item-height: var(--menu-item-height-lg);
    --menu-font-size: var(--menu-font-size-lg);
  }
}

.ds-menu__item {
  display: flex;
  align-items: center;
  width: 100%;
  min-height: var(--menu-item-height);
  padding: var(--menu-item-padding-y) var(--menu-item-padding-x);
  gap: var(--menu-item-gap);
  border: none;
  border-radius: var(--menu-item-radius);
  background: transparent;
  color: var(--menu-item-text);
  font-size: var(--menu-font-size);
  font-family: var(--font-family-base);
  cursor: pointer;
  text-align: left;
  transition:
    background-color var(--duration-fast) var(--easing-default),
    color var(--duration-fast) var(--easing-default),
    transform var(--duration-fast) var(--easing-default);

  &:hover:not(.ds-menu__item--disabled),
  &--active:not(.ds-menu__item--disabled) {
    background: var(--menu-item-hover-bg);
    color: var(--menu-item-hover-text);
  }

  &:focus-visible {
    outline: none;
    box-shadow: inset 0 0 0 2px var(--color-primary, var(--focus-color));
  }

  &:active:not(.ds-menu__item--disabled) {
    transform: scale(0.98);
  }

  &--disabled {
    color: var(--menu-item-disabled-text);
    cursor: not-allowed;

    .ds-menu__item-icon {
      color: var(--menu-item-disabled-icon);
    }
  }
}

.ds-menu__item-icon {
  flex-shrink: 0;
  color: var(--menu-item-icon);
  font-size: 1em;
}

.ds-menu__item-label {
  flex: 1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ds-menu__divider {
  height: 1px;
  margin: var(--menu-divider-margin) 0;
  background: var(--menu-divider);
}

// === BACKDROP GLOBAL ===

::ng-deep .ds-menu-backdrop {
  background: var(--menu-backdrop);
}
