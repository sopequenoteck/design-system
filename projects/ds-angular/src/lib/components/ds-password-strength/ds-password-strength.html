<div [ngClass]="containerClasses()" role="status" [attr.aria-label]="ariaLabel()">
  <!-- Barres indicatrices (3 barres) -->
  <div class="ds-password-strength__bars">
    @for (bar of bars(); track $index) {
      <div
        class="ds-password-strength__bar"
        [class.ds-password-strength__bar--active]="bar.active"
        [class.ds-password-strength__bar--weak]="bar.active && bar.level === 'weak'"
        [class.ds-password-strength__bar--medium]="bar.active && bar.level === 'medium'"
        [class.ds-password-strength__bar--strong]="bar.active && bar.level === 'strong'">
      </div>
    }
  </div>

  <!-- Label optionnel -->
  @if (showLabel() && strength() !== 'none') {
    <span
      class="ds-password-strength__label"
      [class]="'ds-password-strength__label--' + strength()">
      {{ strengthLabel() }}
    </span>
  }

  <!-- Critères détaillés optionnels -->
  @if (showCriteria()) {
    <ul class="ds-password-strength__criteria">
      @for (criterion of criteria(); track criterion.key) {
        <li
          class="ds-password-strength__criterion"
          [class.ds-password-strength__criterion--valid]="criterion.valid">
          <fa-icon [icon]="criterion.valid ? faCheck : faTimes" />
          <span>{{ criterion.label }}</span>
        </li>
      }
    </ul>
  }
</div>
