.ds-progress-bar {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  width: 100%;

  &__track {
    flex: 1;
    background-color: var(--progress-track-bg, var(--background-tertiary));
    border-radius: var(--progress-radius, var(--radius-3));
    overflow: hidden;
    position: relative;
  }

  &__fill {
    height: 100%;
    background-color: var(--progress-fill-bg, var(--color-primary));
    border-radius: inherit;
    transition:
      width 0.3s var(--easing-default),
      background-color var(--duration-fast) var(--easing-default);
  }

  &__label {
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--text-default);
    min-width: 3rem;
    text-align: right;
  }

  // === SIZES ===

  &--sm &__track {
    height: var(--progress-height-sm, 4px);
  }

  &--md &__track {
    height: var(--progress-height-md, 8px);
  }

  &--lg &__track {
    height: var(--progress-height-lg, 12px);
  }

  // === VARIANTS ===

  &--default &__fill {
    background-color: var(--color-primary);
  }

  &--success &__fill {
    background-color: var(--color-success);
  }

  &--warning &__fill {
    background-color: var(--color-warning);
  }

  &--error &__fill {
    background-color: var(--color-error);
  }

  // === INDETERMINATE MODE ===

  &--indeterminate &__fill {
    width: 30% !important;
    animation: progress-indeterminate 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
}

@keyframes progress-indeterminate {
  0% {
    transform: translateX(-100%);
  }
  50% {
    transform: translateX(350%);
  }
  100% {
    transform: translateX(-100%);
  }
}
