<!-- Backdrop -->
@if (isOpen()) {
  <div
    [class]="backdropClasses()"
    (click)="handleBackdropClick()"
    aria-hidden="true">
  </div>
}

<!-- Drawer Panel -->
@if (isOpen()) {
  <div
    #drawerContainer
    [class]="containerClasses()"
    role="dialog"
    [attr.aria-modal]="true"
    [attr.aria-labelledby]="title() ? drawerTitleId : null"
    (keydown)="handleKeyDown($event)">

    <!-- Header -->
    <div class="ds-drawer__header">
      @if (title()) {
        <h3 class="ds-drawer__title" [id]="drawerTitleId">{{ title() }}</h3>
      }

      <ng-content select="[drawer-header]"></ng-content>

      @if (closable()) {
        <button
          class="ds-drawer__close"
          type="button"
          aria-label="Fermer"
          (click)="handleClose()">
          <fa-icon [icon]="closeIcon" aria-hidden="true" />
        </button>
      }
    </div>

    <!-- Body -->
    <div class="ds-drawer__body">
      <ng-content></ng-content>
    </div>

    <!-- Footer -->
    <div class="ds-drawer__footer">
      <ng-content select="[drawer-footer]"></ng-content>
    </div>
  </div>
}
